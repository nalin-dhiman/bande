<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Garden of Celebration</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@300;400;700&family=Dancing+Script:wght@700&display=swap"
        rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="state-morning"> <!-- Initial State -->

    <!-- Ambient Overlays -->
    <div id="noise-overlay"></div>
    <canvas id="particle-canvas"></canvas>

    <!-- HUD -->
    <div id="hud">
        <div class="hud-glass">
            <span>JOY</span>
            <div class="xp-bar">
                <div class="xp-fill" id="xp-fill"></div>
            </div>
        </div>
        <div class="hud-glass">
            <button id="toggle-music" class="hud-btn magnet">Sound On ðŸ”ˆ</button>
        </div>
    </div>

    <!-- Audio -->
    <audio id="bgm" loop>
        <source src="./assets/music/bgm.mp3" type="audio/mpeg">
    </audio>

    <!-- LEVEL 0: THE BUBBLE SYMPHONY (Lock Screen) -->
    <section id="level-0-gate" class="gate-screen active">
        <div id="bubble-container">
            <!-- Floating bubbles injected by JS -->
        </div>
        <div class="gate-content" style="z-index: 10; padding: 20px 40px;">
            <h1 class="garden-title" style="font-size: 3rem; margin-bottom: 5px;">Catch the Magic</h1>
            <p class="gate-hint" style="margin-bottom: 15px;">Pop the bubbles: 1 - 9 - 5 - 7</p>
            <div class="gate-indicators">
                <span></span><span></span><span></span><span></span>
            </div>
            <p id="gate-msg" style="color: #d63384; height: 1.2rem; font-weight: bold;"></p>
        </div>
    </section>

    <!-- LEVEL 1: MEMORY LANE (Memory Match) -->
    <section id="level-1-seed" class="level hidden">
        <div class="glass-panel seed-container magnet-zone moirang-border" style="border-radius: 30px; max-width:90vw;">
            <p class="manipuri-greeting"
                style="font-family:var(--font-heading); color:#d63384; font-size:1.5rem; margin-bottom:10px;">Mapok
                Numitki Yaipha Paojel</p>
            <h2 style="font-family: var(--font-sub); font-size: 2rem; margin-bottom: 10px;">Match the Memories</h2>

            <div class="memory-grid" id="memory-grid">
                <!-- Cards injected by JS -->
            </div>
        </div>
    </section>

    <!-- LEVEL 2: AFTERNOON (Balloons) -->
    <section id="level-2-hunt" class="level hidden">
        <div class="glass-panel"
            style="position:absolute; top:20px; left:50%; transform:translateX(-50%); padding:10px 30px; z-index:50;">
            <h2>Pop the Memories</h2>
        </div>
        <div id="balloon-grid" class="balloon-grid">
            <!-- Floating Balloons -->
        </div>
    </section>

    <!-- LEVEL 3: SUNSHOWER (Carousel) -->
    <section id="level-3-river" class="level hidden">
        <div class="mist-layer"></div>
        <div class="carousel-container" id="carousel">
            <!-- 3D Items -->
        </div>
        <div class="glass-panel" style="position:absolute; top:20px; z-index:50; padding:10px 30px;">
            <h2>Spin the Archive</h2>
        </div>
        <div class="carousel-controls">
            <button id="spin-left" class="hud-btn magnet">&lt;</button>
            <button id="spin-right" class="hud-btn magnet">&gt;</button>
        </div>
    </section>

    <!-- LEVEL 4: TWILIGHT (Mirror) -->
    <section id="level-4-mirror" class="level hidden">
        <div class="mirror-frame magnet-zone">
            <div class="mirror-glass">
                <h2
                    style="font-family:var(--font-heading); font-size:2rem; color:#fff; text-shadow:0 2px 5px rgba(0,0,0,0.2);">
                    Who lights up the world?</h2>
                <input type="text" id="mirror-input" placeholder="Type here..." autocomplete="off">
            </div>
        </div>
    </section>

    <!-- FINALE -->
    <section id="finale" class="level hidden">
        <div class="finale-overlay">
            <h1 class="garden-title" style="color:#fff;">Happy Birthday, Bandna!</h1>
            <p style="font-size:1.2rem; margin-bottom:20px; color:#fff;">Orchestrating the stars for you âœ¨</p>
            <button id="hug-btn" class="hud-btn magnet"
                style="font-size:1.5rem; padding:15px 40px; background:#FF69B4; color:white; border:none;">Send Love
                ðŸ’–</button>
        </div>
        <div class="masonry-wall" id="wall">
            <!-- Auto Scroll Images -->
        </div>
    </section>

    <!-- Lightbox -->
    <div id="lightbox" class="hidden"
        style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; display:flex; justify-content:center; align-items:center; flex-direction:column; backdrop-filter:blur(20px);">
        <img id="lightbox-img" src=""
            style="max-height:60vh; border-radius:10px; box-shadow:0 0 50px rgba(0,0,0,0.5); border:5px solid white;">
        <p id="lightbox-quote"
            style="margin-top:20px; font-size:1.5rem; font-family:var(--font-sub); text-align:center; max-width:80%; color:white;">
        </p>
        <button id="lightbox-close" class="hud-btn magnet" style="margin-top:30px;">Close</button>
    </div>

    <script src="data.js"></script>
    <script src="script.js"></script>
</body>

</html>